<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"   
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
   
    <h:body>
        <ui:composition template="/template/popuptemplate.xhtml">
            <ui:define name="maincontent">
                <p:panel closable="false" collapsed="false">
                    <p:fieldset legend="Risk Assessment Details">
                        <b:panelGrid colSpans="12" size="lg" style-class="ui-fluid">
                            <b:formGroup>
                                <p:outputLabel value="Description"/>
                                <b:inputTextarea required="true" requiredMessage="Enter description" maxlength="4000" value="#{riskAssessmentDetailsBean.entity.description}"/>
                            </b:formGroup>
                        </b:panelGrid>
                        <b:panelGrid colSpans="6,6" size="lg" style-class="ui-fluid">
                            <b:formGroup>
                                <p:outputLabel value="Risk Area"/>
                                <p:selectOneMenu value="#{riskAssessmentDetailsBean.entity.riskArea}" required="true" converter="entityConverter" requiredMessage="Select risk area">
                                    <f:selectItem itemLabel="Select One"  noSelectionOption="true"/>
                                    <f:selectItems value="#{riskAssessmentDetailsBean.riskAreas}" var="riskArea" itemLabel="#{riskArea.toString()}" itemValue="#{riskArea}"/>
                                </p:selectOneMenu>
                            </b:formGroup>
                            <b:formGroup>
                                <p:outputLabel value="HS chapter the risk applies to:"/>
                                <p:selectOneMenu value="#{riskAssessmentDetailsBean.entity.hsChapterRisk}" required="true" converter="entityConverter" requiredMessage="Select In addition to Customs and Excise compliance risks, was any risk for any other tax types also identified in this Risk Assessment that would indicate that an integrated audit is required?">
                                    <f:selectItem itemLabel="Select One"  noSelectionOption="true"/>
                                    <f:selectItems value="#{riskAssessmentDetailsBean.hsChapterRisks}" var="hsChapterRisk" itemLabel="#{hsChapterRisk.description}" itemValue="#{hsChapterRisk}"/>
                                </p:selectOneMenu>
                            </b:formGroup>
                            <b:formGroup>
                                <p:outputLabel value="Recommendations"/>
                                <p:inputText value="#{riskAssessmentDetailsBean.entity.recommendation}"/>
                            </b:formGroup>
                            <b:formGroup>
                                <p:outputLabel value="Risk Rating - Likelihood"/>
                                <p:selectOneMenu value="#{riskAssessmentDetailsBean.entity.riskRatingLikehood}" required="true" converter="entityConverter" requiredMessage="Select In addition to Customs and Excise compliance risks, was any risk for any other tax types also identified in this Risk Assessment that would indicate that an integrated audit is required?">
                                    <p:ajax event="itemSelect" listener="#{riskAssessmentDetailsBean.onRiskRatingLikelihoodListener}" update="overallRiskRating"/>
                                    <f:selectItem itemLabel="Select One"  noSelectionOption="true"/>
                                    <f:selectItems value="#{riskAssessmentDetailsBean.riskRatingLikelihoods}" var="riskRatinglh" itemLabel="#{riskRatinglh.description}" itemValue="#{riskRatinglh}"/>
                                </p:selectOneMenu>
                            </b:formGroup>
                            <b:formGroup>
                                <p:outputLabel value="Risk rating - Consequence"/>
                                <p:selectOneMenu value="#{riskAssessmentDetailsBean.entity.riskRatingConsequence}" required="true" converter="entityConverter" requiredMessage="Select In addition to Customs and Excise compliance risks, was any risk for any other tax types also identified in this Risk Assessment that would indicate that an integrated audit is required?">
                                    <p:ajax event="itemSelect" listener="#{riskAssessmentDetailsBean.onRiskRatingConsequenceListener}" update="overallRiskRating"/>
                                    <f:selectItem itemLabel="Select One"  noSelectionOption="true"/>
                                    <f:selectItems value="#{riskAssessmentDetailsBean.riskRatingConsequences}" var="riskRatingConseq" itemLabel="#{riskRatingConseq.description}" itemValue="#{riskRatingConseq}"/>
                                </p:selectOneMenu>
                            </b:formGroup>
                            <b:formGroup id="overallRiskRating">
                                <p:outputLabel value="Overall risk rating"/>
                                <p:inputText readonly="true" value="#{riskAssessmentDetailsBean.entity.overallRiskRating}"/>
                            </b:formGroup>
                            <b:formGroup>
                                <p:outputLabel value="Revenue at risk"/>
                                <b:inputText value="#{riskAssessmentDetailsBean.entity.revenueAtRisk}" fieldSize="lg">
                                    <f:convertNumber pattern="##,##0.00"/>
                                    <f:facet name="prepend">
                                        <b:label  value="R" />
                                    </f:facet>
                                </b:inputText>
                            </b:formGroup>
                            <b:formGroup>
                                <p:outputLabel value=" Risk Related to SARS Compliance Program or Customs focus Area?"/>
                                <p:selectOneMenu value="#{riskAssessmentDetailsBean.entity.riskAssessmentRelate}" required="true" converter="entityConverter" requiredMessage="Select In addition to Customs and Excise compliance risks, was any risk for any other tax types also identified in this Risk Assessment that would indicate that an integrated audit is required?">
                                    <f:selectItem itemLabel="Select One"  noSelectionOption="true"/>
                                    <f:selectItems value="#{riskAssessmentDetailsBean.yesNoOptions}" var="riskAssessRelate" itemLabel="#{riskAssessRelate.toString()}" itemValue="#{riskAssessRelate}"/>
                                </p:selectOneMenu>
                            </b:formGroup>
                        </b:panelGrid>
                    </p:fieldset>
                    <f:facet name="footer">
                        <p:toolbar>
                            <p:toolbarGroup>
                                <b:commandButton look="success" value="Add"  size="md" large-screen="full-width" icon="check" update="@form" action="#{riskAssessmentDetailsBean.selectRiskAssessmentDetailFromDialog(riskAssessmentDetailsBean.entity)}"/>
                            </p:toolbarGroup>
                            <p:toolbarGroup>
                                <b:commandButton look="danger" value="Cancel"  size="md" large-screen="full-width" icon="remove" immediate="true"  update="@form" action="#{riskAssessmentDetailsBean.cancelRiskAssessmentDetailFromDialog()}"/>
                            </p:toolbarGroup>
                        </p:toolbar>
                    </f:facet>   
                </p:panel>
            </ui:define>
        </ui:composition>
    </h:body>
</html>
